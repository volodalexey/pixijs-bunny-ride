(()=>{var e,t={7279:(e,t,i)=>{"use strict";i.r(t)},6752:(e,t,i)=>{"use strict";i(7279);const o=i(9678),n=i(3266),a=i(916);(async function(){const e=document.querySelector(".loader");null!=e&&e.parentElement?.removeChild(e),await o.SceneManager.initialize();const t=new n.LoaderScene;await o.SceneManager.changeScene({newScene:t}),await t.loadAll();const i=new a.GameScene;await o.SceneManager.changeScene({newScene:i}),document.addEventListener("keydown",(e=>{console.log(e.code)}))})().catch((function(e){console.error(e);const t=document.querySelector(".error-message");null!=t&&(t.classList.remove("hidden"),t.innerText=e?.message??String(e));const i=document.querySelector(".error-stack");null!=i&&(i.classList.remove("hidden"),i.innerText=e?.stack??"");const o=document.querySelector("canvas");null!=o&&o.parentElement?.removeChild(o)}))},1611:function(e,t,i){"use strict";var o,n,a,s,r,l,c=this&&this.__classPrivateFieldSet||function(e,t,i,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,i):n?n.value=i:t.set(e,i),i},d=this&&this.__classPrivateFieldGet||function(e,t,i,o){if("a"===i&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(e):o?o.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const h=i(9902);t.Game=class{constructor({pixiApp:e,view:t}){o.add(this),n.set(this,void 0),a.set(this,void 0),s.set(this,void 0),r.set(this,!1),c(this,n,e,"f"),c(this,a,t,"f"),c(this,s,new h.UI,"f"),d(this,a,"f").addChild(d(this,s,"f").view)}handleResize(e){d(this,s,"f").handleResize(e)}handleUpdate(){d(this,o,"m",l).call(this),d(this,s,"f").handleUpdate()}},n=new WeakMap,a=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakSet,l=function(){d(this,r,"f")}},213:function(e,t,i){"use strict";var o,n=this&&this.__classPrivateFieldGet||function(e,t,i,o){if("a"===i&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(e):o?o.value:t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,i,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,i):n?n.value=i:t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBar=void 0;const s=i(9678),r=i(9634);t.StatusBar=class{constructor(){o.set(this,void 0),this.setup()}get view(){return n(this,o,"f")}setup(){a(this,o,new r.StatusBarView,"f")}setCollectedCoinsCount(e){n(this,o,"f").coinsCollectedText.text=`${e}`,this.handleResize(s.SceneManager.intoResizeParams())}handleResize(e){n(this,o,"f").handleResize(e)}},o=new WeakMap},9634:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarView=void 0;const o=i(8687),n=i(3553);class a extends o.Container{constructor(){super();const e=o.Assets.get("spritesheet"),{textures:t}=e;a.textures={coinScorePlate:t["coin_score_plate.png"],collectCoinIcon:t["collect_coin_icon.png"]},this.setup()}setup(){const e=new o.Sprite(a.textures.coinScorePlate);e.height=44,e.scale.x=e.scale.y,this.addChild(e),this.coinScorePlate=e;const t=new o.Text("0",{...a.differencesFoundOptions});t.anchor.set(.5),this.addChild(t),this.coinsCollectedText=t;const i=new o.Sprite(a.textures.collectCoinIcon);i.width=66,i.scale.y=i.scale.x,this.addChild(i),this.collectCoinIcon=i}handleResize(e){const{gap:t}=a.options;this.collectCoinIcon.position.x=t,this.collectCoinIcon.position.y=t,this.coinScorePlate.position.x=this.collectCoinIcon.position.x+this.collectCoinIcon.width-2*t,this.coinScorePlate.position.y=this.collectCoinIcon.position.y+this.collectCoinIcon.height/2-this.coinScorePlate.height/2,this.coinsCollectedText.position.x=this.coinScorePlate.position.x+this.coinScorePlate.width/2,this.coinsCollectedText.position.y=this.coinScorePlate.position.y+this.coinScorePlate.height/2+5*this.coinScorePlate.scale.y}}t.StatusBarView=a,a.options={gap:10},a.differencesFoundOptions={fontFamily:n.FONT_FAMILY,fontSize:n.FONT_SIZE_REGULAR,fill:n.COLOR_WHITE}},9902:function(e,t,i){"use strict";var o,n,a,s=this&&this.__classPrivateFieldGet||function(e,t,i,o){if("a"===i&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(e):o?o.value:t.get(e)},r=this&&this.__classPrivateFieldSet||function(e,t,i,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,i):n?n.value=i:t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0}),t.UI=void 0;const l=i(8687),c=i(213);class d{constructor(){o.set(this,void 0),n.set(this,9/16),a.set(this,new l.Container),this.setup()}get view(){return s(this,a,"f")}setup(){const e=new c.StatusBar;s(this,a,"f").addChild(e.view),r(this,o,e,"f")}setCollectedCoinsCount(e){s(this,o,"f").setCollectedCoinsCount(e)}handleResize(e){s(this,o,"f").handleResize(e)}handleUpdate(){}}t.UI=d,o=new WeakMap,n=new WeakMap,a=new WeakMap,d.options={gap:10}},916:function(e,t,i){"use strict";var o,n=this&&this.__classPrivateFieldSet||function(e,t,i,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,i):n?n.value=i:t.set(e,i),i},a=this&&this.__classPrivateFieldGet||function(e,t,i,o){if("a"===i&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(e):o?o.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.GameScene=void 0;const s=i(1611),r=i(9678),l=i(6111);t.GameScene=class{constructor(){this.name="game",o.set(this,void 0),n(this,o,new l.GameSceneView,"f"),this.setup()}get view(){return a(this,o,"f")}setup(){this.game=new s.Game({pixiApp:r.SceneManager.app,view:a(this,o,"f")})}handleResize(e){this.game.handleResize(e)}handleUpdate(){this.game.handleUpdate()}mountedHandler(){}},o=new WeakMap},6111:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSceneView=void 0;const o=i(8687);class n extends o.Container{constructor(){super()}handleResize(){}}t.GameSceneView=n},3266:function(e,t,i){"use strict";var o,n=this&&this.__classPrivateFieldSet||function(e,t,i,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,i):n?n.value=i:t.set(e,i),i},a=this&&this.__classPrivateFieldGet||function(e,t,i,o){if("a"===i&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(e):o?o.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderScene=t.manifest=void 0;const s=i(8687),r=i(6424);t.manifest={bundles:[{name:"initial-bundle",assets:{spritesheet:"assets/spritesheets/atlas.json",font:"assets/fonts/Zubilo_Black.woff2"}}]},t.LoaderScene=class{constructor(){this.name="loader",o.set(this,void 0),this.handleProgress=e=>{a(this,o,"f").downloadProgress(e)},n(this,o,new r.LoaderSceneView,"f")}get view(){return a(this,o,"f")}async loadAll(){a(this,o,"f").downloadStarted(),await s.Assets.init({manifest:t.manifest}),await s.Assets.loadBundle(t.manifest.bundles[0].name,this.handleProgress)}handleResize(e){a(this,o,"f").handleResize(e)}handleMounted(){}handleUpdate(){a(this,o,"f").updateTitle()}},o=new WeakMap},6424:function(e,t,i){"use strict";var o,n,a,s,r=this&&this.__classPrivateFieldGet||function(e,t,i,o){if("a"===i&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(e):o?o.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,i,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,i):n?n.value=i:t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderSceneView=void 0;const c=i(8687),d=i(9962),h=i(9678),u=i(3553);class w extends c.Container{constructor(){super(),o.set(this,void 0),n.set(this,void 0),a.set(this,void 0),s.set(this,void 0),this.downloadStarted=()=>{r(this,a,"f").width=w.barOptions.initWidth},this.downloadProgress=e=>{r(this,a,"f").width=(w.barOptions.width-2*w.barOptions.borderThick)*e,this.handleResize({viewWidth:h.SceneManager.width,viewHeight:h.SceneManager.height}),this.updateTitle()},this.setup(),this.draw()}setup(){const e=new c.Text(w.titleText,{...w.titleOptions});this.addChild(e),l(this,o,e,"f");const t=new c.Container;this.addChild(t),t.position.y=1.2*Number(w.titleOptions.fontSize),l(this,n,t,"f");const i=new c.Graphics;t.addChild(i),l(this,s,i,"f");const r=new c.Graphics;t.addChild(r),l(this,a,r,"f")}draw(){const{barOptions:e}=w,t=r(this,a,"f"),i=r(this,s,"f");i.beginFill(e.borderColor),i.drawRoundedRect(0,0,e.width,e.height,e.borderRadius),i.endFill(),t.beginFill(e.fillColor),t.position.set(e.borderThick,e.borderThick),t.drawRoundedRect(0,0,e.width-2*e.borderThick,e.height-2*e.borderThick,e.borderRadius),t.endFill()}updateTitle(e){e??(e=Array(Math.ceil(3*Math.random())).fill(".").join("")),r(this,o,"f").text=w.titleText+e}handleResize({viewWidth:e,viewHeight:t}){const i=e,a=t,s=w.barOptions.width,l=r(this,o,"f").height+w.barOptions.height;this.updateTitle(""),d.Resize.handleResize({view:r(this,n,"f"),availableWidth:i,availableHeight:a,totalWidth:s,totalHeight:l,lockX:!0,lockY:!0}),d.Resize.handleResize({view:r(this,o,"f"),availableWidth:r(this,n,"f").width,availableHeight:a,totalWidth:r(this,o,"f").width,totalHeight:l,lockWidth:!0,lockHeight:!0,lockY:!0}),d.Resize.handleResize({view:this,availableWidth:i,availableHeight:a,totalWidth:s,totalHeight:l,lockWidth:!0,lockHeight:!0})}}t.LoaderSceneView=w,o=new WeakMap,n=new WeakMap,a=new WeakMap,s=new WeakMap,w.barOptions={initWidth:10,width:350,height:40,fillColor:1588688,borderRadius:5,borderThick:5,borderColor:0},w.titleText="Загрузка",w.titleOptions={fontFamily:u.FONT_FAMILY,fontSize:u.FONT_SIZE_BIG,fill:u.COLOR_GREEN,stroke:16777215,strokeThickness:1,letterSpacing:5}},9678:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SceneManager=void 0;const o=i(8687),n=i(6645);class a{static get width(){return window.innerWidth}static get height(){return window.innerHeight}static intoResizeParams(){return{viewWidth:this.width,viewHeight:this.height}}static async initialize(){const e=new o.Application({autoDensity:!0,resolution:window.devicePixelRatio??1,width:a.width,height:a.height,resizeTo:window});document.body.appendChild(e.view),n.logApp.enabled&&((0,n.logApp)("window.__PIXI_APP__ initialized!"),window.__PIXI_APP__=e),a.app=e,a.setupEventLesteners()}static setupEventLesteners(){window.addEventListener("resize",a.resizeDeBounce),a.app.ticker.add(a.updateHandler)}static async changeScene({name:e,newScene:t,initialResize:i=!0}){if(null!=t?a.scenes.has(t.name)||a.scenes.set(t.name,t):null!=e&&(t=a.scenes.get(e)),null==t)throw new Error("Unable to detect new scene");null!=a.currentScene&&(a.app.stage.removeChild(a.currentScene.view),"function"==typeof a.currentScene.unmountedHandler&&a.currentScene.unmountedHandler()),a.currentScene=t,a.app.stage.addChild(a.currentScene.view),i&&a.resizeHandler(),"function"==typeof t.mountedHandler&&t.mountedHandler()}static resizeDeBounce(){a.cancelScheduledResizeHandler(),a.scheduleResizeHandler()}static cancelScheduledResizeHandler(){clearTimeout(a.resizeTimeoutId)}static scheduleResizeHandler(){a.resizeTimeoutId=window.setTimeout((()=>{a.cancelScheduledResizeHandler(),a.resizeHandler()}),a.resizeTimeout)}static resizeHandler(){a.currentScene?.handleResize(a.intoResizeParams())}static updateHandler(){a.currentScene?.handleUpdate(a.app.ticker.deltaMS)}}t.SceneManager=a,a.resizeTimeout=300,a.scenes=new Map},9962:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resize=void 0;const o=i(6645);t.Resize=class{static handleResize({view:e,availableWidth:t,availableHeight:i,totalWidth:n,totalHeight:a,logName:s="",lockX:r=!1,lockY:l=!1,lockWidth:c=!1,lockHeight:d=!1}){let h,u;if(t>=n&&i>=a)h=n,u=a,(0,o.logLayout)(`${s} Spacing aw=${t} ow=${h} ah=${i} oh=${u}`);else{let e=1;a>=n?(e=i/a,e*n>t&&(e=t/n),(0,o.logLayout)(`${s} By height (sc=${e})`)):(e=t/n,(0,o.logLayout)(`${s} By width (sc=${e})`),e*a>i&&(e=i/a)),h=Math.floor(n*e),u=Math.floor(a*e),(0,o.logLayout)(`${s} Scaling aw=${t} (ow=${h}) ah=${i} (oh=${u})`)}const w=t>h?(t-h)/2:0,p=i>u?(i-u)/2:0;r||(e.x=w,(0,o.logLayout)(`${s} set x=${w}`)),c||(e.width=h,(0,o.logLayout)(`${s} set width=${h}`)),l||(e.y=p,(0,o.logLayout)(`${s} set y=${p}`)),d||(e.height=u,(0,o.logLayout)(`${s} set height=${u}`))}}},3553:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FONT_SIZE_REGULAR=t.FONT_SIZE_BIG=t.COLOR_WHITE=t.COLOR_GREEN=t.FONT_FAMILY=void 0,t.FONT_FAMILY="Zubilo Black",t.COLOR_GREEN=52224,t.COLOR_WHITE=16777215,t.FONT_SIZE_BIG=30,t.FONT_SIZE_REGULAR=30},6645:function(e,t,i){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logLayout=t.logLoader=t.logApp=void 0;const n=o(i(1227));function a(e){return`bunny-ride-${e}`}t.logApp=(0,n.default)(a("app")),t.logLoader=(0,n.default)(a("loader")),t.logLayout=(0,n.default)(a("layout"))},4654:()=>{}},i={};function o(e){var n=i[e];if(void 0!==n)return n.exports;var a=i[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=t,e=[],o.O=(t,i,n,a)=>{if(!i){var s=1/0;for(d=0;d<e.length;d++){for(var[i,n,a]=e[d],r=!0,l=0;l<i.length;l++)(!1&a||s>=a)&&Object.keys(o.O).every((e=>o.O[e](i[l])))?i.splice(l--,1):(r=!1,a<s&&(s=a));if(r){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[i,n,a]},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,i)=>{var n,a,[s,r,l]=i,c=0;if(s.some((t=>0!==e[t]))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(l)var d=l(o)}for(t&&t(i);c<s.length;c++)a=s[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},i=self.webpackChunkpixijs_bunny_ride=self.webpackChunkpixijs_bunny_ride||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var n=o.O(void 0,[736],(()=>o(6752)));n=o.O(n)})();